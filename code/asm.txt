extern printf
extern scanf


section .data
	list:	resb  20
	constArr:	resb  20
	sum:	resb   2
	p:	resb   2
	k:	resb   2
	scanint:	dw "%d", 0
	putint:	db "%d", 10, 0

section .text

global main
main:


	push rbp
	mov	rsi,list
	mov	rdi,scanint
	call scanf

	mov 	rdi, 1
loop0:		push	rdi
	push rax

	mov rax,[k]
	push rax
	mov rax,3
	push rax
	pop rbx
	pop rax
	mul rbx
	push rax
	mov rax,[k]
	shl rax, 3
	add rax,constArr
	pop [rax]

	pop rax

	pop	rdi
	add	rdi, 1
	cmp	rdi, 10
	jne	loop0
	mov 	rdi, 1
loop1:		push	rdi
	push rax

	mov rax,[list]
	push rax
	mov rax,[constArr]
	push rax
	pop rbx
	pop rax
	add rax,rbx
	push rax
	mov [sum],rax
	pop rax

	mov	rsi,[sum]
	mov	rdi,putint
	call printf

	pop	rdi
	add	rdi, 1
	cmp	rdi, 10
	jne	loop1
	mov	rsi,[sum]
	mov	rdi,putint
	call printf


	pop rbp
	ret
